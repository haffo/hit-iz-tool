<html xmlns:util="http://hl7.nist.gov/data-specs/util" xmlns="http://www.w3.org/1999/xhtml">
   <head><style type="text/css">
			@media screen {
			.test-data-specs-main .tds_obxGrpSpl {background:#B8B8B8;}
			.test-data-specs-main maskByMediaType {display:table;}
			.test-data-specs-main fieldset table tbody tr th {font-size:95%}
			.test-data-specs-main fieldset table tbody tr td {font-size:100%;}
			.test-data-specs-main fieldset table tbody tr th {text-align:left;background:#C6DEFF}
			.test-data-specs-main fieldset table thead tr th {text-align:center;}
			.test-data-specs-main fieldset {text-align:center;}
			.test-data-specs-main fieldset table { width:98%;border: 1px groove;table-layout: fixed; margin:0 auto;border-collapse: collapse;}
			.test-data-specs-main fieldset table  tr { border: 3px groove; }
			.test-data-specs-main fieldset table  th { border: 2px groove;}
			.test-data-specs-main fieldset table  td { border: 2px groove; }
			.test-data-specs-main fieldset table thead {border: 1px groove;background:#446BEC;text-align:left;}
			.test-data-specs-main fieldset table tbody tr td {text-align:left}
			.test-data-specs-main .tds_noData {background:#B8B8B8;}
			.test-data-specs-main .tds_childField {background:#B8B8B8;}
			.test-data-specs-main .tds_title {text-align:left;}
			.test-data-specs-main h3 {text-align:center;page-break-inside: avoid;}
			.test-data-specs-main h2 {text-align:center;}
			.test-data-specs-main h1 {text-align:center;}
			.test-data-specs-main .tds_pgBrk {padding-top:15px;}
			.test-data-specs-main .tds_er7Msg {width:100%;}
			.test-data-specs-main .tds_embSpace {padding-left:15px;}
			.test-data-specs-main .tds_embSubSpace {padding-left:25px;}
			}
			
			@media print {
			.test-data-specs-main .tds_obxGrpSpl {background:#B8B8B8;}
			.test-data-specs-main tds_maskByMediaType {display:table;}
			.test-data-specs-main fieldset table tbody tr th {font-size:90%}
			.test-data-specs-main fieldset table tbody tr td {font-size:90%;}
			.test-data-specs-main fieldset table tbody tr th {text-align:left;background:#C6DEFF}
			.test-data-specs-main fieldset table thead tr th {text-align:center;background:#4682B4}
			.test-data-specs-main fieldset {text-align:center;page-break-inside: avoid;}
			.test-data-specs-main fieldset table { width:98%;border: 1px groove;table-layout: fixed; margin:0 auto;page-break-inside: avoid;border-collapse: collapse;}
			.test-data-specs-main fieldset table[id=vendor-labResults] thead tr {font-size:80%}
			.test-data-specs-main fieldset table[id=vendor-labResults] tbody tr {font-size:75%}
			.test-data-specs-main fieldset table  tr { border: 3px groove; }
			.test-data-specs-main fieldset table  th { border: 2px groove;}
			.test-data-specs-main fieldset table  td { border: 2px groove; }
			.test-data-specs-main fieldset table thead {border: 1px groove;background:#446BEC;text-align:left;}
			.test-data-specs-main fieldset table tbody tr td {text-align:left;}
			.test-data-specs-main .tds_noData {background:#B8B8B8;}
			.test-data-specs-main .tds_childField {background:#B8B8B8;}
			.test-data-specs-main .tds_title {text-align:left;margin-bottom:1%}
			.test-data-specs-main h3 {text-align:center;}
			.test-data-specs-main h2 {text-align:center;}
			.test-data-specs-main h1 {text-align:center;}
			.test-data-specs-main .tds_pgBrk {page-break-after:always;}
			.test-data-specs-main fieldset#tds_er7Message table {border:0px;width:80%}
			.test-data-specs-main fieldset#tds_er7Message td {background:#B8B8B8;font-size:65%;margin-top:6.0pt;border:0px;text-wrap:preserve-breaks;white-space:pre;}
			.test-data-specs-main .tds_er7Msg {width:100%;font-size:80%;}
			.test-data-specs-main .tds_er7MsgNote{width:100%;font-style:italic;font-size:80%;}
			.test-data-specs-main .tds_embSpace {padding-left:15px;}
			.test-data-specs-main .tds_embSubSpace {padding-left:25px;}
			}
		</style><script>
				var data = 
				{
"profile" : "VXU_V04",
"tables":
[
		{
			"title":"Patient Information",
			"elements" : 
			[
				{"element" : "Patient Name", "data" : "Helen Barrett"},
				{"element" : "Mother's Maiden Name", "data" : ""},
				{"element" : "ID Number", "data" : "7120 "},
				{"element" : "Date/Time of Birth", "data" : "03/17/1950"},
				{"element" : "Administrative Sex", "data" : "F"},
				{"element" : "Patient Address", "data" : "763 Main St Bozeman MT 59715 USA"},
				{"element" : "Local Number", "data" : "(406)555-4064"},
				{"element" : "Race", "data" : "White"},
				{"element" : "Ethnic Group", "data" : "Not Hispanic or Latino"},
				{"element" : "Birth Order", "data" : "1"}
			]
		},
		{
			"title":"Immunization Registry Information",
			"elements" : 
			[
				{"element" : "Immunization Registry Status", "data" : "A"},
				{"element" : "Publicity Code (Text)", "data" : "Recall only - any method"},
				{"element" : "Protection Indicator", "data" : "Y"},
				{"element" : "Protection Indicator Effective Date", "data" : ""},
				{"element" : "Publicity Code Effective Date", "data" : "06/25/2015"},
				{"element" : "Immunization Registry Status Effective Date", "data" : "03/17/1950"}
			]
		},
		{
			"title":"Vaccine Administration Information",
			"elements" : 
			[
				{"element" : "Administered Code - Text", "data" : "zoster"},
				{"element" : "Date/Time Start of Administration", "data" : "03/17/2015"},
				{"element" : "Administered Amount", "data" : "999"},
				{"element" : "Administered Units", "data" : ""},
				{"element" : "Administration Notes", "data" : "Historical Administration"},
				{"element" : "Administering Provider", "data" : ""},
				{"element" : "Substance Lot Number", "data" : ""},
				{"element" : "Substance Expiration Date", "data" : ""},
				{"element" : "Substance Manufacturer Name", "data" : ""},
				{"element" : "Substance/Treatment Refusal Reason", "data" : ""},
				{"element" : "Route", "data" : ""},
				{"element" : "Administration Site", "data" : ""},
					{"element" : "obx", "data" : 
					{
						"title":"Historical Administration",
						"elements" : 
						[
						]
					}
					}
		]
		},
		{
			"title":"Order Information",
			"elements" : 
			[
				{"element" : "Entered By", "data" : "Lily Jackson"},
				{"element" : "Ordered By", "data" : ""}
			]

		}
]
};
				
				var full = '', html = '';
				
				
				
				document.write('<div class="test-data-specs-main">');
					
				/* if we wanted to generate the root tab structure include this code
				$(function() { $( "#test-tabs" ).tabs();	});
					
				document.write('<div id="test-tabs">');
				document.write('<ul>');
				document.write('<li><a href="#test-tabs-0">Test Story</a></li>');
				document.write('<li><a href="#test-tabs-1">Test Data Specification</a></li>');
				document.write('<li><a href="#test-tabs-2">Message Content</a></li>');
				document.write('</ul>'); 
				*/
				
				
				
		
		document.write('<div id="test-tabs-1">');
		document.write('<div id="test-data-tabs">');
			
		
			for(var key in data.tables) {
			    var tab = '';
			    tab += '<div id="test-data-tabs-' + (key+1) + '">';
				var table = data.tables[key];
				tab += ('<fieldset><legend>' + table.title + 
					'</legend><table><tr><th> Element </th><th> Data </th></tr>'); 

				for (var elkey in table.elements) {
					element = table.elements[elkey];
					// display obxs as separate table
					if (element.element == 'obx') {
							var obx = element.data;
							tab += '</table></fieldset>'; // end the bigger table
							tab += ('<fieldset><table><tr><th colspan="2"> ' + obx.title + '</th></tr>'); 
							for (var obxkey in obx.elements) {
								if (obx.elements[obxkey].element == "") { // gray line
									tab += '<tr class="tds_obxGrpSpl"><td colspan="2"></td></tr>';
								} 						
								else {
									tab += ('<tr><td>' + obx.elements[obxkey].element + '</td><td>' + obx.elements[obxkey].data + '</td></tr>');
								}
							}
					}
					else {
						var tdclass = element.data == '' ? "tds_noData" : "tds_data"; 
						tab += ('<tr><td>' + element.element + '</td><td class="' + tdclass + '">' + element.data + '</td></tr>');
					}
				}
				
				tab += '</table></fieldset>';
				tab += '</div>';

				
				
				full += tab; 
			//$(function() { $( "#test-data-tabs-0" ).html("full");	});
			} 					
			
			// full tab
			document.write('<div id="test-data-tabs-0"> ' + full + '</div>');
			document.write('</div>');
			document.write('</div>'); 
	
				
					
				document.write('</div>');	
				document.write('</div>');	
			</script></head>
   <body></body>
</html>